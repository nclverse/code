<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Table of Contents</title>
<link href="http://fonts.googleapis.com/css?family=Fira+Sans:300,400,500,700|Inconsolata" rel="stylesheet" type="text/css" />

    <link href="http://nclverse.github.io/code/css/styles.css" media="all" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <section id="container">
      <section id="sidebar"><nav id="main-nav">
  <header id="title">
    <img class="site-logo" alt="logo" src="http://nclverse.github.io/code/img/logo.svg" />
    <div class="titles">
      <span class="verse-title">NCL<strong>Verse</strong></span>
      <ul class="docs-site">
        <li><a class="active" href="http://nclverse.github.io/code">Code</a></li><li><a href="http://nclverse.github.io/dissertation">Dissertation</a></li><li><a href="http://nclverse.github.io/design">Design</a></li><li><a href="http://nclverse.github.io/help">Help</a></li>
      </ul>
    </div>
  </header>
  <div class="category">
    <header class="category-title"><h1>apps<span class="count">234 LOC</span></h1></header>
    <ul class="titles">
      <li><a class="title-link">Architecture<span class="count">0 LOC</span></a>
        <ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/apps/architecture/core-ideas.html">Core Ideas<span class="count">0</span></a></li></ul>
      </li>
      </ul><ul class="titles">
      <li><a class="title-link active">Exams<span class="count">234 LOC</span></a>
        <ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/apps/exams/leechness.html">Leechness<span class="count">24</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/apps/exams/gateway.html">Gateway<span class="count">56</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/apps/exams/handler.html">Handler<span class="count">18</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link active" href="http://nclverse.github.io/code/apps/exams/home.html">Home<span class="count">56</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/apps/exams/layout.html">Layout<span class="count">39</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/apps/exams/transforms.html">Transforms<span class="count">41</span></a></li></ul>
      </li>
      </ul>
  </div><div class="category">
    <header class="category-title"><h1>utilities<span class="count">269 LOC</span></h1></header>
    <ul class="titles">
      <li><a class="title-link">Docs Generator<span class="count">269 LOC</span></a>
        <ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/utilities/docs-generator/architecture.html">Architecture<span class="count">0</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/utilities/docs-generator/overview.html">Overview<span class="count">0</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/utilities/docs-generator/collect.html">Collect<span class="count">48</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/utilities/docs-generator/transform.html">Transform<span class="count">95</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/utilities/docs-generator/render.html">Render<span class="count">126</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/utilities/docs-generator/roadmap.html">Roadmap<span class="count">0</span></a></li></ul>
      </li>
      </ul>
  </div><div class="category">
    <header class="category-title"><h1>tests<span class="count">95 LOC</span></h1></header>
    <ul class="titles">
      <li><a class="title-link">Docs Generator<span class="count">95 LOC</span></a>
        <ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/tests/docs-generator/collect.html">Collect<span class="count">45</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/tests/docs-generator/transform.html">Transform<span class="count">20</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/tests/docs-generator/render.html">Render<span class="count">30</span></a></li></ul>
      </li>
      </ul>
  </div>

</nav></section>
      <section id="read-area"><article class="post">
  <section class="content"><div id="table-of-contents">
<h1>Table of Contents</h1>
<div id="text-table-of-contents">
<ul>
<li><a href="Malformed">1. Namespaces</a></li>
<li><a href="Malformed">2. Overview</a></li>
<li><a href="Malformed">3. Sidebar</a></li>
<li><a href="Malformed">4. Selected Modules</a></li>
<li><a href="Malformed">5. Topic Map</a></li>
<li><a href="Malformed">6. Display Topic</a></li>
<li><a href="Malformed">7. HTMLize Module</a></li>
<li><a href="Malformed">8. Home Routes</a></li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-1">
<h1 id="sec-1"><span class="section-number-1">1</span> Namespaces</h1>
<div class="outline-text-1" id="text-1">
<div class="org-src-container">

<div class="highlight"><pre><span class="p">(</span><span class="kd">ns </span><span class="nv">exam-vault.routes.home</span>
  <span class="p">(</span><span class="ss">:require</span> <span class="p">[</span><span class="nv">compojure.core</span> <span class="ss">:refer</span> <span class="ss">:all</span><span class="p">]</span>
	    <span class="p">[</span><span class="nv">exam-vault.views.layout</span> <span class="ss">:as</span> <span class="nv">layout</span><span class="p">]</span>
	    <span class="p">[</span><span class="nv">exam-vault.views.transforms</span> <span class="ss">:as</span> <span class="nv">reshape</span><span class="p">]</span>
	    <span class="p">[</span><span class="nv">exam-vault.models.data</span> <span class="ss">:as</span> <span class="nv">data</span><span class="p">]</span>
	    <span class="p">[</span><span class="nv">exam-vault.models.accessors</span> <span class="ss">:as</span> <span class="nv">collect</span><span class="p">]</span>
	    <span class="p">[</span><span class="nv">ring.util.response</span> <span class="ss">:as</span> <span class="nv">resp</span><span class="p">]</span>
	    <span class="p">[</span><span class="nv">exam-vault.models.calc</span> <span class="ss">:as</span> <span class="nv">calc</span><span class="p">]))</span>
</pre></div>

</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-1">
<h1 id="sec-2"><span class="section-number-1">2</span> Overview</h1>
<div class="outline-text-1" id="text-2">
<p>
 The app is divided in to three sections for the moment.  A module
 selector on the left, a question display area on the center and a
 topic mark distribution that pops up on the left
More details on the functionalities available here: 
</p>
</div>
</div>

<div id="outline-container-sec-3" class="outline-1">
<h1 id="sec-3"><span class="section-number-1">3</span> Sidebar</h1>
<div class="outline-text-1" id="text-3">
<div class="org-src-container">

<div class="highlight"><pre><span class="p">(</span><span class="kd">defn </span><span class="nv">sidebar</span> <span class="p">[</span><span class="nv">modules</span> <span class="nv">selection</span><span class="p">]</span>
  <span class="p">[</span><span class="ss">:nav</span> <span class="p">{</span><span class="ss">:id</span> <span class="s">"module-selector"</span> <span class="ss">:class</span> <span class="s">"sidebar"</span><span class="p">}</span>
   <span class="p">[</span><span class="ss">:ul</span> <span class="p">[</span><span class="ss">:li</span> <span class="p">{</span><span class="ss">:class</span> <span class="s">"stage-selection"</span><span class="p">}</span> <span class="p">[</span><span class="ss">:a</span> <span class="s">"Stage 3"</span><span class="p">]]</span>
    <span class="p">(</span><span class="nf">reshape/listify</span> <span class="p">(</span><span class="nf">collect/module-data</span> <span class="nv">modules</span> <span class="p">[</span><span class="ss">:code</span> <span class="ss">:module</span><span class="p">])</span> <span class="nv">selection</span><span class="p">)]])</span>
</pre></div>

</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-1">
<h1 id="sec-4"><span class="section-number-1">4</span> Selected Modules</h1>
<div class="outline-text-1" id="text-4">
<div class="org-src-container">

<div class="highlight"><pre><span class="p">(</span><span class="kd">defn </span><span class="nv">selected-modules</span> <span class="p">[</span><span class="nv">module-list</span><span class="p">]</span> <span class="p">(</span><span class="nf">collect/get-modules</span> <span class="nv">module-list</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-1">
<h1 id="sec-5"><span class="section-number-1">5</span> Topic Map</h1>
<div class="outline-text-1" id="text-5">
<p>
Creates a topic map by zipping together zeroes
</p>

<div class="org-src-container">

<div class="highlight"><pre><span class="p">(</span><span class="kd">defn </span><span class="nv">topics-map</span> <span class="p">[</span><span class="nv">module</span><span class="p">]</span>
  <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">topics</span> <span class="p">(</span><span class="ss">:topics</span> <span class="nv">module</span><span class="p">)]</span>
    <span class="p">(</span><span class="nb">zipmap </span><span class="nv">topics</span> <span class="p">(</span><span class="nb">repeat </span><span class="mi">0</span><span class="p">))))</span>
</pre></div>

</div>
</div>
</div>

<div id="outline-container-sec-6" class="outline-1">
<h1 id="sec-6"><span class="section-number-1">6</span> Display Topic</h1>
<div class="outline-text-1" id="text-6">
<div class="org-src-container">

<div class="highlight"><pre><span class="p">(</span><span class="kd">defn </span><span class="nv">display-topics</span> <span class="p">[</span><span class="nv">module</span> <span class="nv">year</span><span class="p">]</span>
  <span class="p">[</span><span class="ss">:aside</span> <span class="p">{</span><span class="ss">:class</span> <span class="s">"topic-selector"</span><span class="p">}</span>
   <span class="p">[</span><span class="ss">:h1</span> <span class="p">(</span><span class="nb">str </span><span class="s">"Topic Share in "</span><span class="p">)</span> <span class="p">[</span><span class="ss">:strong</span> <span class="nv">year</span><span class="p">]]</span>
   <span class="p">(</span><span class="nf">reshape/htmlize-topics</span> <span class="p">(</span><span class="nb">merge-with + </span><span class="p">(</span><span class="nf">topics-map</span> <span class="nv">module</span><span class="p">)</span> <span class="p">(</span><span class="nf">calc/topic-map</span> <span class="p">(</span><span class="nf">collect/select-questions</span> <span class="p">(</span><span class="ss">:papers</span> <span class="nv">module</span><span class="p">)</span> <span class="nv">year</span><span class="p">))))])</span>
</pre></div>

</div>
</div>
</div>

<div id="outline-container-sec-7" class="outline-1">
<h1 id="sec-7"><span class="section-number-1">7</span> HTMLize Module</h1>
<div class="outline-text-1" id="text-7">
<p>
Uses the module info and year to create the HTML
representation for the sidebar.
</p>

<div class="org-src-container">

<div class="highlight"><pre><span class="p">(</span><span class="kd">defn </span><span class="nv">htmlize-module</span> <span class="p">[</span><span class="nv">mod</span> <span class="nv">year</span><span class="p">]</span>
  <span class="p">(</span><span class="k">let </span><span class="p">[{</span><span class="ss">:keys</span> <span class="p">[</span><span class="nv">code</span> <span class="nv">module</span> <span class="nv">papers</span><span class="p">]}</span> <span class="nv">mod</span>
	<span class="nv">years</span> <span class="p">(</span><span class="nb">map </span><span class="ss">:year</span> <span class="nv">papers</span><span class="p">)]</span>
    <span class="p">[</span><span class="ss">:section</span> <span class="p">{</span><span class="ss">:class</span> <span class="s">"module-view"</span><span class="p">}</span>
     <span class="p">[</span><span class="ss">:nav</span> <span class="p">{</span><span class="ss">:class</span> <span class="s">"years segmented-control"</span><span class="p">}</span> <span class="p">(</span><span class="nf">reshape/htmlize-years</span> <span class="nv">code</span> <span class="nv">year</span> <span class="nv">years</span><span class="p">)]</span>
     <span class="p">[</span><span class="ss">:div</span> <span class="p">{</span><span class="ss">:class</span> <span class="s">"content-area"</span><span class="p">}</span>
      <span class="p">[</span><span class="ss">:div</span> <span class="p">{</span><span class="ss">:class</span> <span class="s">"scrollable-area"</span><span class="p">}</span>
       <span class="p">(</span><span class="nf">reshape/htmlize-papers</span> <span class="p">(</span><span class="nf">collect/select-questions</span> <span class="nv">papers</span> <span class="nv">year</span><span class="p">))]</span>
      <span class="p">(</span><span class="nf">display-topics</span> <span class="nv">mod</span> <span class="nv">year</span><span class="p">)]]))</span>

<span class="p">(</span><span class="kd">defn </span><span class="nv">get-years</span> <span class="p">[</span><span class="nv">module</span><span class="p">]</span> <span class="p">(</span><span class="nb">map </span><span class="ss">:year</span> <span class="p">(</span><span class="ss">:papers</span> <span class="nv">module</span><span class="p">)))</span>

<span class="p">(</span><span class="kd">defn </span><span class="nv">display-modules</span> <span class="p">([</span><span class="nv">module</span> <span class="nv">modules</span><span class="p">]</span>
			 <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">selection</span> <span class="p">(</span><span class="nf">collect/select-module</span> <span class="nv">module</span> <span class="nv">modules</span><span class="p">)]</span>
			   <span class="p">(</span><span class="nf">display-modules</span> <span class="nv">module</span> <span class="nv">modules</span> <span class="p">(</span><span class="nb">str </span><span class="p">(</span><span class="nb">first </span><span class="p">(</span><span class="nf">get-years</span> <span class="nv">selection</span><span class="p">))))))</span>
  <span class="p">([</span><span class="nv">module</span> <span class="nv">modules</span> <span class="nv">year</span><span class="p">]</span>
     <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">selection</span> <span class="p">(</span><span class="nf">collect/select-module</span> <span class="nv">module</span> <span class="nv">modules</span><span class="p">)]</span>
       <span class="p">(</span><span class="nf">layout/common</span>
	<span class="p">(</span><span class="nf">sidebar</span> <span class="nv">modules</span> <span class="nv">module</span><span class="p">)</span>
	<span class="p">(</span><span class="nf">htmlize-module</span> <span class="nv">selection</span> <span class="nv">year</span><span class="p">)))))</span>
</pre></div>

</div>
</div>
</div>

<div id="outline-container-sec-8" class="outline-1">
<h1 id="sec-8"><span class="section-number-1">8</span> Home Routes</h1>
<div class="outline-text-1" id="text-8">
<div class="org-src-container">

<div class="highlight"><pre><span class="p">(</span><span class="nf">defroutes</span> <span class="nv">home-routes</span>
  <span class="p">(</span><span class="nf">GET</span> <span class="s">"/"</span> <span class="p">{</span><span class="nv">cookies</span> <span class="ss">:cookies</span><span class="p">}</span>
       <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nf">cookies</span> <span class="s">"modules"</span><span class="p">)</span> <span class="p">(</span><span class="nf">resp/redirect</span> <span class="s">"/modules"</span><span class="p">)</span> <span class="p">(</span><span class="nf">resp/redirect</span> <span class="s">"/login"</span><span class="p">)))</span>
  <span class="p">(</span><span class="nf">context</span> <span class="s">"/modules"</span> <span class="p">{</span><span class="nv">cookies</span> <span class="ss">:cookies</span><span class="p">}</span>
	   <span class="p">(</span><span class="nb">if-let </span><span class="p">[</span><span class="nv">mods</span> <span class="p">(</span><span class="ss">:value</span> <span class="p">(</span><span class="nf">cookies</span> <span class="s">"modules"</span><span class="p">))]</span>
	     <span class="p">(</span><span class="k">let </span> <span class="p">[</span><span class="nv">module-list</span> <span class="p">(</span><span class="nf">clojure.string/split</span> <span class="nv">mods</span> <span class="o">#</span><span class="s">" "</span><span class="p">)</span>
		    <span class="nv">modules</span> <span class="p">(</span><span class="nf">selected-modules</span> <span class="nv">module-list</span><span class="p">)</span>
		    <span class="nv">username</span> <span class="p">(</span><span class="ss">:value</span> <span class="p">(</span><span class="nf">cookies</span> <span class="s">"name"</span><span class="p">))</span>
		    <span class="nv">id</span> <span class="p">(</span><span class="ss">:value</span> <span class="p">(</span><span class="nf">cookies</span> <span class="s">"id"</span><span class="p">))]</span>
	       <span class="p">(</span><span class="nf">routes</span>
		<span class="p">(</span><span class="nf">GET</span> <span class="s">"/"</span> <span class="p">[]</span> <span class="p">(</span><span class="nf">display-modules</span> <span class="p">(</span><span class="ss">:code</span> <span class="p">(</span><span class="nb">first </span><span class="nv">modules</span><span class="p">))</span> <span class="nv">modules</span><span class="p">))</span>
		<span class="p">(</span><span class="nf">context</span> <span class="s">"/:module"</span> <span class="p">[</span><span class="nv">module</span><span class="p">]</span>
			 <span class="p">(</span><span class="nf">GET</span> <span class="s">"/"</span> <span class="p">[]</span> <span class="p">(</span><span class="nf">display-modules</span> <span class="nv">module</span> <span class="nv">modules</span><span class="p">))</span>
			 <span class="p">(</span><span class="nf">GET</span> <span class="s">"/:year"</span> <span class="p">[</span><span class="nv">year</span><span class="p">]</span> <span class="p">(</span><span class="nf">display-modules</span> <span class="nv">module</span> <span class="nv">modules</span> <span class="nv">year</span><span class="p">)))))</span>
	     <span class="p">(</span><span class="nf">routes</span>
	      <span class="p">(</span><span class="nf">GET</span> <span class="s">"/*"</span> <span class="p">[]</span> <span class="p">(</span><span class="nf">resp/redirect</span> <span class="s">"/login"</span><span class="p">))))))</span>
</pre></div>

</div>
</div>
</div>
</section>

</article></section>
    </section>
  </body>

</html>