<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Table of Contents</title>
<link href="http://fonts.googleapis.com/css?family=Fira+Sans:300,400,500,700|Inconsolata" rel="stylesheet" type="text/css" />

    <link href="http://nclverse.github.io/code/css/styles.css" media="all" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <section id="container">
      <section id="sidebar"><nav id="main-nav">
  <header id="title">
    <img class="site-logo" alt="logo" src="http://nclverse.github.io/code/img/logo.svg" />
    <div class="titles">
      <span class="verse-title">NCL<strong>Verse</strong></span>
      <ul class="docs-site">
        <li><a class="active" href="http://nclverse.github.io/code">Code</a></li><li><a href="http://nclverse.github.io/dissertation">Dissertation</a></li><li><a href="http://nclverse.github.io/design">Design</a></li><li><a href="http://nclverse.github.io/help">Help</a></li>
      </ul>
    </div>
  </header>
  <div class="category">
    <header class="category-title"><h1>apps<span class="count">234 LOC</span></h1></header>
    <ul class="titles">
      <li><a class="title-link">Architecture<span class="count">0 LOC</span></a>
        <ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/apps/architecture/core-ideas.html">Core Ideas<span class="count">0</span></a></li></ul>
      </li>
      </ul><ul class="titles">
      <li><a class="title-link active">Exams<span class="count">234 LOC</span></a>
        <ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/apps/exams/leechness.html">Leechness<span class="count">24</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/apps/exams/gateway.html">Gateway<span class="count">56</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/apps/exams/handler.html">Handler<span class="count">18</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/apps/exams/home.html">Home<span class="count">56</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/apps/exams/layout.html">Layout<span class="count">39</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link active" href="http://nclverse.github.io/code/apps/exams/transforms.html">Transforms<span class="count">41</span></a></li></ul>
      </li>
      </ul>
  </div><div class="category">
    <header class="category-title"><h1>utilities<span class="count">269 LOC</span></h1></header>
    <ul class="titles">
      <li><a class="title-link">Docs Generator<span class="count">269 LOC</span></a>
        <ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/utilities/docs-generator/architecture.html">Architecture<span class="count">0</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/utilities/docs-generator/overview.html">Overview<span class="count">0</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/utilities/docs-generator/collect.html">Collect<span class="count">48</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/utilities/docs-generator/transform.html">Transform<span class="count">95</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/utilities/docs-generator/render.html">Render<span class="count">126</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/utilities/docs-generator/roadmap.html">Roadmap<span class="count">0</span></a></li></ul>
      </li>
      </ul>
  </div><div class="category">
    <header class="category-title"><h1>tests<span class="count">95 LOC</span></h1></header>
    <ul class="titles">
      <li><a class="title-link">Docs Generator<span class="count">95 LOC</span></a>
        <ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/tests/docs-generator/collect.html">Collect<span class="count">45</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/tests/docs-generator/transform.html">Transform<span class="count">20</span></a></li></ul><ul class="subtitles"><li> <a class="subtitle-link" href="http://nclverse.github.io/code/tests/docs-generator/render.html">Render<span class="count">30</span></a></li></ul>
      </li>
      </ul>
  </div>

</nav></section>
      <section id="read-area"><article class="post">
  <section class="content"><div id="table-of-contents">
<h1>Table of Contents</h1>
<div id="text-table-of-contents">
<ul>
<li><a href="Malformed">1. Namespaces</a></li>
<li><a href="Malformed">2. Tidy Tags</a></li>
<li><a href="Malformed">3. HTMLize Years</a></li>
<li><a href="Malformed">4. HTMLize papers</a></li>
<li><a href="Malformed">5. Listify</a></li>
<li><a href="Malformed">6. Distribution Bar</a></li>
<li><a href="Malformed">7. HTMLize Topics</a></li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-1">
<h1 id="sec-1"><span class="section-number-1">1</span> Namespaces</h1>
<div class="outline-text-1" id="text-1">
<div class="org-src-container">

<div class="highlight"><pre><span class="p">(</span><span class="kd">ns </span><span class="nv">exam-vault.views.transforms</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-1">
<h1 id="sec-2"><span class="section-number-1">2</span> Tidy Tags</h1>
<div class="outline-text-1" id="text-2">
<div class="org-src-container">

<div class="highlight"><pre><span class="p">(</span><span class="kd">defn </span><span class="nv">tidy-tags</span> <span class="p">[</span><span class="nv">word</span><span class="p">]</span>
  <span class="p">(</span><span class="nf">clojure.string/capitalize</span> <span class="p">(</span><span class="nf">clojure.string/replace</span> <span class="p">(</span><span class="nb">name </span><span class="nv">word</span><span class="p">)</span> <span class="s">"-"</span> <span class="s">" "</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-1">
<h1 id="sec-3"><span class="section-number-1">3</span> HTMLize Years</h1>
<div class="outline-text-1" id="text-3">
<div class="org-src-container">

<div class="highlight"><pre><span class="p">(</span><span class="kd">defn </span><span class="nv">htmlize-years</span> <span class="p">[</span><span class="nv">module</span> <span class="nv">year</span> <span class="nv">years</span><span class="p">]</span>
  <span class="p">(</span><span class="nb">when </span><span class="p">(</span><span class="nf">not-empty</span> <span class="nv">years</span><span class="p">)</span>
    <span class="p">(</span><span class="nb">into </span><span class="p">[</span><span class="ss">:ul</span><span class="p">]</span> <span class="p">(</span><span class="nb">map </span><span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">x</span><span class="p">]</span>
		       <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">url</span> <span class="p">(</span><span class="nb">str </span><span class="s">"/modules/"</span> <span class="nv">module</span> <span class="s">"/"</span> <span class="nv">x</span><span class="p">)]</span>
		       <span class="p">[</span><span class="ss">:li</span> <span class="p">[</span><span class="ss">:a</span> <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nb">str </span><span class="nv">x</span><span class="p">)</span> <span class="p">(</span><span class="nb">str </span><span class="nv">year</span><span class="p">))</span> <span class="p">{</span><span class="ss">:class</span> <span class="s">"toggled"</span> <span class="ss">:href</span> <span class="nv">url</span><span class="p">}</span> <span class="p">{</span><span class="ss">:href</span> <span class="nv">url</span><span class="p">})</span> <span class="nv">x</span><span class="p">]]))</span> <span class="nv">years</span><span class="p">))))</span>
</pre></div>

</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-1">
<h1 id="sec-4"><span class="section-number-1">4</span> HTMLize papers</h1>
<div class="outline-text-1" id="text-4">
<div class="org-src-container">

<div class="highlight"><pre><span class="p">(</span><span class="kd">defn </span><span class="nv">htmlize-papers</span> <span class="p">[</span><span class="nv">questions</span><span class="p">]</span>
  <span class="p">(</span><span class="nb">for </span><span class="p">[</span><span class="nv">q</span> <span class="nv">questions</span><span class="p">]</span>
    <span class="p">(</span><span class="k">let </span><span class="p">[{</span><span class="ss">:keys</span> <span class="p">[</span><span class="nv">question</span> <span class="nv">mark</span> <span class="nv">topics</span><span class="p">]}</span> <span class="nv">q</span><span class="p">]</span>
      <span class="p">[</span><span class="ss">:div</span> <span class="p">{</span><span class="ss">:class</span> <span class="s">"question"</span><span class="p">}</span>
       <span class="p">(</span><span class="nb">for </span><span class="p">[</span><span class="nv">t</span> <span class="nv">topics</span><span class="p">]</span> <span class="p">[</span><span class="ss">:span</span> <span class="p">{</span><span class="ss">:class</span> <span class="s">"topics"</span><span class="p">}</span> <span class="p">(</span><span class="nf">tidy-tags</span> <span class="nv">t</span><span class="p">)])</span>
       <span class="p">[</span><span class="ss">:article</span> <span class="nv">question</span><span class="p">]</span>
       <span class="p">[</span><span class="ss">:p</span> <span class="p">{</span><span class="ss">:class</span> <span class="s">"marks"</span><span class="p">}</span> <span class="nv">mark</span><span class="p">]</span>
       <span class="p">])))</span>
</pre></div>

</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-1">
<h1 id="sec-5"><span class="section-number-1">5</span> Listify</h1>
<div class="outline-text-1" id="text-5">
<div class="org-src-container">

<div class="highlight"><pre><span class="p">(</span><span class="kd">defn </span><span class="nv">listify</span> <span class="p">[</span><span class="nv">module-data</span> <span class="nv">selection</span><span class="p">]</span>
	<span class="p">(</span><span class="nb">for </span><span class="p">[</span><span class="nv">m</span> <span class="nv">module-data</span><span class="p">]</span>
	  <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">mcode</span> <span class="p">(</span><span class="ss">:code</span> <span class="nv">m</span><span class="p">)</span>
		<span class="nv">mname</span> <span class="p">(</span><span class="ss">:module</span> <span class="nv">m</span><span class="p">)]</span>
	    <span class="p">[</span><span class="ss">:li</span> <span class="p">{</span><span class="ss">:class</span> <span class="p">(</span><span class="nb">str </span><span class="s">"module "</span> <span class="nv">mcode</span><span class="p">)}</span>
	     <span class="p">[</span><span class="ss">:a</span> 
	      <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="nv">mcode</span> <span class="nv">selection</span><span class="p">)</span> <span class="p">(</span><span class="nb">conj </span><span class="p">{</span><span class="ss">:class</span> <span class="s">"selected"</span><span class="p">}</span> <span class="p">{</span><span class="ss">:href</span> <span class="p">(</span><span class="nb">str </span><span class="s">"/modules/"</span> <span class="nv">mcode</span><span class="p">)})</span> <span class="p">{</span><span class="ss">:href</span> <span class="p">(</span><span class="nb">str </span><span class="s">"/modules/"</span> <span class="nv">mcode</span><span class="p">)})</span>
	      <span class="p">[</span><span class="ss">:span</span> <span class="nv">mcode</span><span class="p">]</span>
	      <span class="p">[</span><span class="ss">:p</span> <span class="nv">mname</span><span class="p">]]])))</span>
</pre></div>

</div>
</div>
</div>

<div id="outline-container-sec-6" class="outline-1">
<h1 id="sec-6"><span class="section-number-1">6</span> Distribution Bar</h1>
<div class="outline-text-1" id="text-6">
<div class="org-src-container">

<div class="highlight"><pre><span class="p">(</span><span class="kd">defn </span><span class="nv">distribution-bar</span> <span class="p">[</span><span class="nv">t</span> <span class="nv">share</span><span class="p">]</span>
  <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">class</span>
  <span class="p">(</span><span class="nf">cond</span>
   <span class="p">(</span><span class="nb">= </span><span class="nv">t</span> <span class="s">"out of syllabus"</span><span class="p">)</span> <span class="s">"grey"</span>
   <span class="p">(</span><span class="nb">&gt; </span><span class="nv">share</span> <span class="mi">30</span><span class="p">)</span> <span class="s">"green"</span>
   <span class="p">(</span><span class="nb">&gt; </span><span class="nv">share</span> <span class="mi">20</span><span class="p">)</span> <span class="s">"teal"</span>
   <span class="p">(</span><span class="nb">&gt; </span><span class="nv">share</span> <span class="mi">10</span><span class="p">)</span> <span class="s">"blue"</span>
   <span class="p">(</span><span class="nb">&gt;= </span><span class="nv">share</span> <span class="mi">0</span><span class="p">)</span> <span class="s">"purple"</span>
   <span class="ss">:else</span> <span class="s">"grey"</span><span class="p">)]</span>
    <span class="p">[</span><span class="ss">:li</span> <span class="p">{</span><span class="ss">:class</span> <span class="p">(</span><span class="nb">str </span><span class="s">"share-bar "</span> <span class="nv">class</span><span class="p">)</span> <span class="ss">:style</span> <span class="p">(</span><span class="nb">str </span><span class="s">"width:"</span> <span class="p">(</span><span class="nb">int </span><span class="p">(</span><span class="nb">* </span><span class="p">(</span><span class="nb">/ </span> <span class="nv">share</span> <span class="mi">100</span><span class="p">)</span> <span class="mi">180</span><span class="p">))</span> <span class="s">"px;"</span><span class="p">)}]</span>
  <span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div id="outline-container-sec-7" class="outline-1">
<h1 id="sec-7"><span class="section-number-1">7</span> HTMLize Topics</h1>
<div class="outline-text-1" id="text-7">
<div class="org-src-container">

<div class="highlight"><pre><span class="p">(</span><span class="kd">defn </span><span class="nv">htmlize-topics</span> <span class="p">[</span><span class="nv">topics</span><span class="p">]</span>
  <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">sorted-topics</span> <span class="p">(</span><span class="nb">sort-by val &gt; </span><span class="nv">topics</span><span class="p">)]</span>
    <span class="p">[</span><span class="ss">:ul</span> <span class="p">{</span><span class="ss">:class</span> <span class="s">"topic-distribution"</span><span class="p">}</span>
  <span class="p">(</span><span class="nb">for </span><span class="p">[[</span><span class="nv">t</span> <span class="nv">share</span><span class="p">]</span> <span class="nv">sorted-topics</span><span class="p">]</span>
    <span class="p">[</span><span class="ss">:li</span> <span class="p">[</span><span class="ss">:ul</span> <span class="p">(</span><span class="nf">distribution-bar</span> <span class="nv">t</span> <span class="nv">share</span><span class="p">)</span> <span class="p">[</span><span class="ss">:li</span> <span class="p">{</span><span class="ss">:class</span> <span class="s">"topic-title"</span><span class="p">}</span> <span class="p">(</span><span class="nf">tidy-tags</span> <span class="nv">t</span><span class="p">)]</span> <span class="p">[</span><span class="ss">:li</span> <span class="p">{</span><span class="ss">:class</span> <span class="s">"topic-share"</span><span class="p">}</span> <span class="p">(</span><span class="nb">str </span><span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nf">integer?</span> <span class="nv">share</span><span class="p">)</span> <span class="nv">share</span> <span class="p">(</span><span class="nf">format</span> <span class="s">"%.2f"</span> <span class="p">(</span><span class="nb">float </span><span class="nv">share</span><span class="p">)))</span> <span class="s">"%"</span><span class="p">)]]])]))</span>
</pre></div>

</div>
</div>
</div>
</section>

</article></section>
    </section>
  </body>

</html>